{
  "component_templates": [
    {
      "name": "fscrawler_try1_mapping_attachment",
      "component_template": {
        "template": {
          "mappings": {
            "properties": {
              "attachment": {
                "type": "binary",
                "doc_values": false
              }
            }
          }
        }
      }
    },
    {
      "name": "fscrawler_try1_mapping_file",
      "component_template": {
        "template": {
          "settings": {
            "index": {
              "analysis": {
                "analyzer": {
                  "path_analyzer": {
                    "tokenizer": "pattern",
                    "filter": [
                      "lowercase"
                    ]
                  }
                }
              }
            }
          },
          "mappings": {
            "properties": {
              "file": {
                "properties": {
                  "extension": {
                    "type": "keyword"
                  },
                  "filename": {
                    "store": true,
                    "type": "text",
                    "analyzer": "path_analyzer"
                  },
                  "indexed_chars": {
                    "type": "long"
                  },
                  "last_accessed": {
                    "format": "date_optional_time",
                    "type": "date"
                  },
                  "content_type": {
                    "type": "keyword"
                  },
                  "indexing_date": {
                    "format": "date_optional_time",
                    "type": "date"
                  },
                  "created": {
                    "format": "date_optional_time",
                    "type": "date"
                  },
                  "checksum": {
                    "type": "keyword"
                  },
                  "filesize": {
                    "type": "long"
                  },
                  "last_modified": {
                    "format": "date_optional_time",
                    "type": "date"
                  },
                  "url": {
                    "index": false,
                    "type": "keyword"
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "fscrawler_try1_mapping_path",
      "component_template": {
        "template": {
          "settings": {
            "index": {
              "analysis": {
                "analyzer": {
                  "path_analyzer": {
                    "tokenizer": "pattern",
                    "filter": [
                      "lowercase"
                    ]
                  }
                }
              }
            }
          },
          "mappings": {
            "properties": {
              "path": {
                "properties": {
                  "virtual": {
                    "fielddata": true,
                    "analyzer": "path_analyzer",
                    "type": "text"
                  },
                  "root": {
                    "type": "keyword"
                  },
                  "real": {
                    "fielddata": true,
                    "analyzer": "path_analyzer",
                    "type": "text"
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "fscrawler_try1_mapping_meta",
      "component_template": {
        "template": {
                   "settings": {
            "analysis": {
              "filter": {
                "english_stop": {
                  "type": "stop",
                  "stopwords": ["_english_","for","figure","figures","et","al",
                  "using","used","however","thus","also","can","show",
                  "shown","based","within","many","some","most","several","one","two","three"]
                },
                "english_stemmer": {
                  "type": "stemmer",
                  "language": "english"
                },
                "synonym_filter": {
                  "type": "synonym",
                  "lenient": true,
                  "format": "wordnet",
                  "synonyms_path": "analysis/wordnet_synonyms.txt",
                  "expand": false
                }
              },
              "analyzer": {
                "custom_english": {
                  "tokenizer": "standard",
                  "filter": [
                    "lowercase",
                    "english_stop",
                    "english_stemmer"
                  ]
                },
                "path_analyzer": {
                  "tokenizer": "pattern",
                  "filter": [
                    "lowercase"
                  ]
                }
              }
            }
          },
          "mappings": {
            "dynamic_templates": [
              {
                "raw_as_text": {
                  "path_match": "meta.raw.*",
                  "mapping": {
                    "type": "text",
                    "fields": {
                      "keyword": {
                        "ignore_above": 256,
                        "type": "keyword"
                      }
                    }
                  }
                }
              }
            ],
            "properties": {
              "meta": {
                "properties": {
                  "date": {
                    "format": "date_optional_time",
                    "type": "date"
                  },
                  "altitude": {
                    "type": "text"
                  },
                  "keywords": {
                    "type": "text"
                  },
                  "modifier": {
                    "type": "text"
                  },
                  "latitude": {
                    "type": "text"
                  },
                  "rating": {
                    "type": "byte"
                  },
                  "description": {
                    "type": "text"
                  },
                  "language": {
                    "type": "keyword"
                  },
                  "source": {
                    "type": "text"
                  },
                  "title": {
                    "type": "text",
                    "analyzer":"custom_english"
                  },
                  "creator_tool": {
                    "type": "keyword"
                  },
                  "type": {
                    "type": "text"
                  },
                  "relation": {
                    "type": "text"
                  },
                  "contributor": {
                    "type": "text"
                  },
                  "rights": {
                    "type": "text"
                  },
                  "metadata_date": {
                    "format": "date_optional_time",
                    "type": "date"
                  },
                  "longitude": {
                    "type": "text"
                  },
                  "coverage": {
                    "type": "text"
                  },
                  "identifier": {
                    "type": "text"
                  },
                  "comments": {
                    "type": "text"
                  },
                  "author": {
                    "type": "text"
                  },
                  "created": {
                    "format": "date_optional_time",
                    "type": "date"
                  },
                  "format": {
                    "type": "text"
                  },
                  "publisher": {
                    "type": "text"
                  },
                  "print_date": {
                    "format": "date_optional_time",
                    "type": "date"
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "fscrawler_try1_mapping_content",
      "component_template": {
        "template": {
          "settings": {
            "analysis": {
              "filter": {
                "english_stop": {
                  "type": "stop",
                  "stopwords": ["_english_","for","figure","figures","et","al",
                  "using","used","however","thus","also","can","show",
                  "shown","based","within","many","some","most","several","one","two","three"]
                },
                "english_stemmer": {
                  "type": "stemmer",
                  "language": "english"
                },
                "synonym_filter": {
                  "type": "synonym",
                  "lenient": true,
                  "format": "wordnet",
                  "synonyms_path": "analysis/wordnet_synonyms.txt",
                  "expand": false
                }
              },
              "analyzer": {
                "custom_english": {
                  "tokenizer": "standard",
                  "filter": [
                    "lowercase",
                    "english_stop",
                    "english_stemmer"
                  ]
                },
                "path_analyzer": {
                  "tokenizer": "pattern",
                  "filter": [
                    "lowercase"
                  ]
                }
              }
            }
          },
          "mappings": {
            "properties": {
              "content": {
                "type": "text",
                "analyzer": "custom_english"
              },
              "grobid": {
                "properties": {
                  "metadata": {
                    "properties": {
                      "title": {
                        "type": "text",
                        "analyzer": "custom_english"
                      }
                    }
                  },
                  "abstract": {
                    "properties": {
                      "text": {
                        "type": "text",
                        "analyzer": "custom_english"
                      }
                    }
                  }
                }
              },
              "huridocs": {
                "properties": {
                  "title": {
                        "type": "text",
                        "analyzer": "custom_english"
                      }
                }
              },
              "dwg_content": {
                "properties": {
                  "content": {
                    "type": "text",
                    "analyzer": "custom_english"
                  },
                  "contentrev": {
                    "type": "text",
                    "analyzer": "custom_english"
                  },
                  "file": {
                    "type": "text",
                    "analyzer": "path_analyzer"
                  }
                }
              }
            }
          }
        }
      }
    }
  ],
  "index_templates": [
    {
      "name": "fscrawler_try1_docs",
      "index_template": {
        "index_patterns": [
          "try1"
        ],
        "composed_of": [
          "fscrawler_try1_mapping_attachment",
          "fscrawler_try1_mapping_file",
          "fscrawler_try1_mapping_path",
          "fscrawler_try1_mapping_meta",
          "fscrawler_try1_mapping_content"
        ],
        "template": {
          "settings": {
            "number_of_shards": 1,
            "number_of_replicas": 0
          }
        },
        "priority": 500
      }
    }
  ]
}